<!DOCTYPE html>
<html lang="es">
<head>
    <%- include('../../partials/head') %>
    <link rel="stylesheet" href="/stylesheets/producto-style.css">
    <link rel="stylesheet" href="/stylesheets/crear-editar-style.css">
    <script src="/js/validationCategories.js" defer></script>
</head>

<%- include('../../partials/navbar') %>

<div class="creadorContainer">
    <% if (typeof productToEdit != 'undefined') { %>
        <h1 class="titulo">Editor de categorías: <%= productToEdit.name %></h1>
        <form action="/products/<%= productToEdit.id %>/edit/categories?_method=PUT" method="POST" enctype="multipart/form-data" id="formToEdit">
    <% } else { %>
        <h1 class="titulo">Creador de categorías</h1>
        <form action="/products/<%= newID %>/create/categories" method="POST" enctype="multipart/form-data" id="formToCreate">
    <% } %>
        

        <section class="contenedorProductos" id="contenedorProductos">
            <h2>¡Hacé las suscripciones a tu medida y potenciá tu negocio digitalmente!</h2>
            
                    <table>
                        <tr>
                            <th class="fontSize">
                                <div class="tdDiv">
                                    <h4>Categorías del producto:</h4>
                                </div>
                            </th>
                            <th> 
                                <div class="contenedorMedalla-tdDiv">
                                    <!--Elegir nombre de la categoria 1-->
                                    <label class="fontSize block" for="category1">Nombre: Categoría 1</label>
                                    <input required class="categoryNames block" style="width:50%" type="text" name="category1" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[0].name %>" <% } else { %> placeholder="Ejemplo: Oro" <% } %>>
                                    <div class="categoryNameErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "category1") { %>
                                                <p class="categoryNameErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </th>
                            <th>
                                <div class="contenedorMedalla-tdDiv">
                                    <!--Elegir nombre de la categoria 2-->
                                    <label class="fontSize block" for="category2">Nombre: Categoría 2</label>
                                    <input required class="categoryNames block" style="width:50%" type="text" name="category2" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[1].name %>" <% } else { %> placeholder="Ejemplo: Plata" <% } %>">
                                    <div class="categoryNameErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "category2") { %>
                                                <p class="categoryNameErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </th>
                            <th>
                                <div class="contenedorMedalla-tdDiv">
                                    <!--Elegir nombre de la categoria 3-->
                                    <label class="fontSize block" for="category3">Nombre: Categoría 3</label>
                                    <input required class="categoryNames block" style="width:50%" type="text" name="category3" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[2].name %>" <% } else { %> placeholder="Ejemplo: Bronce" <% } %>">
                                    <div class="categoryNameErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "category3") { %>
                                                <p class="categoryNameErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </th>
                        </tr>
                        <tr>
                            <th class="fontSize">
                                <div class="tdDiv">
                                    <h4>Imagen categoría:</h4>
                                </div>
                            </th>
                            <th> 
                                <div class="contenedorMedalla tdDiv">
                                    <!--Elegir imagen de la categoria 1-->
                                    <label class="labelPointer fontSize" for="categoryImage1">¡Click! y sube el logo de la categoría 1</label>
                                    <input class="categoryImages inputNone" type="file" name="categoryImage1" id="categoryImage1" accept="image/png image/jpg" >
                                    <div class="categoryImageErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "categoryImage1") { %>
                                                <p class="categoryImageErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </th>
                            <th>
                                <div class="contenedorMedalla tdDiv">
                                    <!--Elegir imagen de la categoria 2-->
                                    <label class="labelPointer fontSize" for="categoryImage2">¡Click! y sube el logo de la categoría 2</label>
                                    <input class="categoryImages inputNone" type="file" name="categoryImage2" id="categoryImage2" accept="image/png image/jpg">
                                    <div class="categoryImageErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "categoryImage2") { %>
                                                <p class="categoryImageErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </th>
                            <th>
                                <div class="contenedorMedalla tdDiv">
                                    <!--Elegir imagen de la categoria 3-->
                                    <label class="labelPointer fontSize" for="categoryImage3">¡Click! y sube el logo de la categoría 3</label>
                                    <input class="categoryImages inputNone" type="file" name="categoryImage3" id="categoryImage3" accept="image/png image/jpg">
                                    <div class="categoryImageErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "categoryImage3") { %>
                                                <p class="categoryImageErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </th>
                        </tr>
                        <tr>
                            <td class="beneficio fontSize"  style="font-size: 1.4em;">
                                <div class="tdDiv">
                                    <h4>Costo por transacción:</h4>                  
                                </div>
                            </td>
                            <td>
                                <div class="tdDiv">
                                    <!--Elegir costo por transacción categoria 1-->
                                    <label class="fontSize" for="costoTransaccion[1]">Costo transacción 1:</label>
                                    <input type="number" name="costoTransaccion[1]" class="transactionCosts" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[0].transaction_cost_percent %>" <% } else { %> placeholder="Valor porcentual %" <% } %> id="costoTransaccion[1]">
                                    <div class="transactionCostsErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "costoTransaccion[1]") { %>
                                                <p class="transactionCostsErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </td>
                            <td>
                                <div class="tdDiv">
                                    <!--Elegir costo por transacción categoria 2-->
                                    <label class="fontSize" for="costoTransaccion[2]">Costo transacción 2:</label>
                                    <input type="number" name="costoTransaccion[2]" class="transactionCosts" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[1].transaction_cost_percent %>" <% } else { %> placeholder="Valor porcentual %" <% } %> id="costoTransaccion[2]">
                                    <div class="transactionCostsErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "costoTransaccion[2]") { %>
                                                <p class="transactionCostsErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </td>
                            <td>
                                <div class="tdDiv">
                                    <!--Elegir costo por transacción categoria 3-->
                                    <label class="fontSize" for="costoTransaccion[3]">Costo transacción 3:</label>
                                    <input type="number" name="costoTransaccion[3]" class="transactionCosts" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[2].transaction_cost_percent %>" <% } else { %> placeholder="Valor porcentual %" <% } %>  id="costoTransaccion[3]">
                                    <div class="transactionCostsErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "costoTransaccion[3]") { %>
                                                <p class="transactionCostsErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="beneficio fontSize"  style="font-size: 1.4em;">
                                <div class="tdDiv">
                                    <h4>Cantidad de secciones:</h4>
                                </div>
                            </td>
                            <td>
                                <div class="tdDiv">
                                    <!--Elegir cantidad de secciones categoria 1-->
                                    <label class="fontSize" for="cantidadSecciones1">Cantidad secciones 1:</label>
                                    <input type="number" class="sectionsWeb" name="cantidadSecciones1" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[0].web_sections %>" <% } else { %> placeholder="Ingresá un numero" <% } %>  id="cantidadSecciones1">
                                    <div class="sectionsWebErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "cantidadSecciones1") { %>
                                                <p class="sectionsWebErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </td>
                            <td>
                                <div class="tdDiv">
                                    <!--Elegir cantidad de secciones categoria 2-->
                                    <label class="fontSize" for="cantidadSecciones2">Cantidad secciones 2:</label>
                                    <input type="number" class="sectionsWeb" name="cantidadSecciones2" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[1].web_sections %>" <% } else { %> placeholder="Ingresá un numero" <% } %>id="cantidadSecciones2">
                                    <div class="sectionsWebErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "cantidadSecciones2") { %>
                                                <p class="sectionsWebErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </td>
                            <td>
                                <div class="tdDiv">
                                    <!--Elegir cantidad de secciones categoria 3-->
                                    <label class="fontSize" for="cantidadSecciones3">Cantidad secciones 3:</label>
                                    <input type="number" class="sectionsWeb" name="cantidadSecciones3" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[2].web_sections %>" <% } else { %> placeholder="Ingresá un numero" <% } %> id="cantidadSecciones3">
                                    <div class="sectionsWebErrors"></div>
                                    <% if (typeof errors != "undefined") {
                                        errors.forEach ( error => { 
                                            if (error.param == "cantidadSecciones3") { %>
                                                <p class="sectionsWebErrors"><%= error.msg %></p>
                                        <% } }) } %>
                                </div>
                            </td>
                        </tr>
                <tr>
                    <td class="beneficio fontSize">
                        <div class="tdDiv">
                            <h4>Subscribirse</h4>
                        </div>
                    </td>
                    <td>
                        <div class="tdDiv">
                            <input type="number" class="priceSubscription" name="price[0]" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[0].price %>" <% } else { %> placeholder="$ / mensual" <% } %>>
                            <div class="priceSubscriptionErrors"></div>
                            <% if (typeof errors != "undefined") {
                                errors.forEach ( error => { 
                                    if (error.param == "price[0]") { %>
                                        <p class="priceSubscriptionErrors"><%= error.msg %></p>
                                <% } }) } %>
                        </div>
                    </td>
                    <td>
                        <div class="tdDiv">
                            <input type="number" class="priceSubscription" name="price[1]" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[1].price %>" <% } else { %> placeholder="$ / mensual" <% } %>>
                            <div class="priceSubscriptionErrors"></div>
                            <% if (typeof errors != "undefined") {
                                errors.forEach ( error => { 
                                    if (error.param == "price[1]") { %>
                                        <p class="priceSubscriptionErrors"><%= error.msg %></p>
                                <% } }) } %>
                        </div>
                    </td>
                    <td>
                        <div class="tdDiv">
                            <input type="number" class="priceSubscription" name="price[2]" <% if (typeof productToEdit != 'undefined' ) { %> value="<%= productToEdit.Categories[2].price %>" <% } else { %> placeholder="$ / mensual" <% } %>>
                            <div class="priceSubscriptionErrors"></div>
                            <% if (typeof errors != "undefined") {
                                errors.forEach ( error => { 
                                    if (error.param == "price[2]") { %>
                                        <p class="priceSubscriptionErrors"><%= error.msg %></p>
                                <% } }) } %>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <div class="buttons-form">
            <button type="reset" class="reset">Restablecer campos</button>
            <button type="submit" id="formButton" class="submit">Siguiente</button>
        </div>
        
    </form>
</div>

<%- include('../../partials/footer') %>